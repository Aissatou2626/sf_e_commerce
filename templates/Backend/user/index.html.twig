{% extends 'base.html.twig' %}

{% block title %}
	Administration des users
	{{ parent() }}
{% endblock %}

{% block body %}
	<section class="container mt-2">
		<h1 class="text-center">Administration des utilisateurs</h1>
		<a href="{{ path('app.register') }}" class="btn btn-primary">Cr√©er un utilisateur</a>
		<div class="row mt-2 gy-4">
			{% for user in users %}
				<div class="col-md-4">
					<div class="card">
						<h4>
							{{ user.firstName }} {{ user.lastName }}
						</h4>

						<p>
							<strong>Email:
							</strong>
							{{ user.email}}
						</p>

						<p>
							<strong>Roles:
							</strong>
							{{ user.roles|join(', ')|replace({'ROLE_': ''})|replace({'ROLE-': ''})|title }}
						</p>

						<div class="card-btn">
							<a href="{{ path('admin.users.update', {id:user.id}) }}" class="btn btn-warning">Modifier</a>
							{% include 'Backend/user/_delete.html.twig' %} 
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</section>
{% endblock %}
